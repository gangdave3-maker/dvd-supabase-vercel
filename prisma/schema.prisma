generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model customer {
  customer_id  Int       @id @default(autoincrement())
  email        String?   @db.VarChar(50)
  create_date  DateTime  @default(dbgenerated("('now'::text)::date")) @db.Date
  last_update  DateTime? @default(now()) @db.Timestamp(6)
  full_name    String?
  username     String?
  password     String?
  address_full String?
  phone        String?   @db.VarChar(50)
  postal_code  String?   @db.VarChar(20)
  movie_list   Json      @default("[]")
}

model film {
  film_id          Int                     @id @default(autoincrement())
  title            String                  @db.VarChar(255)
  description      String?
  length           Int?                    @db.SmallInt
  rating           mpaa_rating?            @default(G)
  last_update      DateTime                @default(now()) @db.Timestamp(6)
  special_features String[]
  fulltext         Unsupported("tsvector")
  stock            Int?                    @default(5)

  @@index([fulltext], type: Gist)
  @@index([title], map: "idx_title")
}

model staff {
  staff_id    Int       @id @default(autoincrement())
  first_name  String    @db.VarChar(45)
  last_name   String    @db.VarChar(45)
  email       String?   @db.VarChar(50)
  active      Boolean   @default(true)
  username    String    @db.VarChar(16)
  password    String?   @db.VarChar(100)
  last_update DateTime  @default(now()) @db.Timestamp(6)
  picture     Bytes?
}

enum mpaa_rating {
  G
  PG
  PG_13 @map("PG-13")
  R
  NC_17 @map("NC-17")
}
